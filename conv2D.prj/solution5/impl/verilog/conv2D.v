// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2018.3
// Copyright (C) 1986-2018 Xilinx, Inc. All Rights Reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

(* CORE_GENERATION_INFO="conv2D,hls_ip_2018_3,{HLS_INPUT_TYPE=c,HLS_INPUT_FLOAT=0,HLS_INPUT_FIXED=0,HLS_INPUT_PART=xc7z020clg484-1,HLS_INPUT_CLOCK=10.000000,HLS_INPUT_ARCH=others,HLS_SYN_CLOCK=9.634000,HLS_SYN_LAT=2606,HLS_SYN_TPT=none,HLS_SYN_MEM=0,HLS_SYN_DSP=16,HLS_SYN_FF=6998,HLS_SYN_LUT=9891,HLS_VERSION=2018_3}" *)

module conv2D (
        ap_clk,
        ap_rst,
        ap_start,
        ap_done,
        ap_idle,
        ap_ready,
        in_data_address0,
        in_data_ce0,
        in_data_q0,
        out_data_address0,
        out_data_ce0,
        out_data_we0,
        out_data_d0,
        row_in,
        col_in,
        kernel_address0,
        kernel_ce0,
        kernel_q0,
        kernel_size_row,
        kernel_size_col
);

parameter    ap_ST_fsm_state1 = 7'd1;
parameter    ap_ST_fsm_state2 = 7'd2;
parameter    ap_ST_fsm_state3 = 7'd4;
parameter    ap_ST_fsm_state4 = 7'd8;
parameter    ap_ST_fsm_pp0_stage0 = 7'd16;
parameter    ap_ST_fsm_state10 = 7'd32;
parameter    ap_ST_fsm_state11 = 7'd64;

input   ap_clk;
input   ap_rst;
input   ap_start;
output   ap_done;
output   ap_idle;
output   ap_ready;
output  [13:0] in_data_address0;
output   in_data_ce0;
input  [31:0] in_data_q0;
output  [13:0] out_data_address0;
output   out_data_ce0;
output   out_data_we0;
output  [31:0] out_data_d0;
input  [31:0] row_in;
input  [31:0] col_in;
output  [9:0] kernel_address0;
output   kernel_ce0;
input  [31:0] kernel_q0;
input  [31:0] kernel_size_row;
input  [31:0] kernel_size_col;

reg ap_done;
reg ap_idle;
reg ap_ready;
reg[13:0] in_data_address0;
reg in_data_ce0;
reg out_data_ce0;
reg out_data_we0;
reg kernel_ce0;

(* fsm_encoding = "none" *) reg   [6:0] ap_CS_fsm;
wire    ap_CS_fsm_state1;
reg   [63:0] indvar_flatten_reg_261;
reg   [30:0] ik_row_i_reg_272;
reg   [31:0] sum_1_i_reg_283;
reg   [30:0] ik_col_i_reg_296;
reg   [31:0] reg_505;
wire    ap_CS_fsm_state2;
wire   [0:0] tmp_21_fu_711_p2;
wire    ap_CS_fsm_state10;
reg   [31:0] reg_511;
reg   [31:0] reg_517;
reg   [31:0] reg_523;
reg   [31:0] reg_529;
reg   [31:0] reg_535;
reg   [31:0] reg_541;
reg   [31:0] reg_547;
reg   [31:0] reg_553;
reg   [31:0] reg_559;
reg   [31:0] reg_565;
reg   [31:0] reg_571;
reg   [31:0] reg_577;
reg   [31:0] reg_583;
reg   [31:0] reg_589;
reg   [31:0] reg_595;
reg   [31:0] reg_601;
reg   [31:0] reg_607;
reg   [31:0] reg_613;
reg   [31:0] reg_619;
reg   [31:0] reg_625;
reg   [31:0] reg_631;
reg   [31:0] reg_637;
reg   [31:0] reg_643;
reg   [31:0] reg_649;
wire   [31:0] tmp_s_fu_661_p2;
reg   [31:0] tmp_s_reg_1538;
wire   [31:0] tmp_20_fu_673_p2;
reg   [31:0] tmp_20_reg_1543;
wire  signed [4:0] tmp_26_fu_679_p1;
reg  signed [4:0] tmp_26_reg_1548;
wire   [63:0] bound_fu_691_p2;
reg   [63:0] bound_reg_1553;
wire   [14:0] tmp_27_fu_697_p1;
reg   [14:0] tmp_27_reg_1558;
wire   [37:0] next_mul_fu_701_p2;
reg   [37:0] next_mul_reg_1563;
wire   [30:0] index_row_out_1_fu_716_p2;
reg   [30:0] index_row_out_1_reg_1571;
wire   [0:0] tmp_23_fu_951_p2;
wire    ap_CS_fsm_state4;
wire   [30:0] index_col_out_1_fu_956_p2;
reg   [30:0] index_col_out_1_reg_1580;
wire   [0:0] exitcond_flatten_fu_971_p2;
reg   [0:0] exitcond_flatten_reg_1585;
wire    ap_CS_fsm_pp0_stage0;
wire    ap_block_state5_pp0_stage0_iter0;
wire    ap_block_state6_pp0_stage0_iter1;
wire    ap_block_state7_pp0_stage0_iter2;
wire    ap_block_state8_pp0_stage0_iter3;
wire    ap_block_state9_pp0_stage0_iter4;
wire    ap_block_pp0_stage0_11001;
reg   [0:0] exitcond_flatten_reg_1585_pp0_iter1_reg;
reg   [0:0] exitcond_flatten_reg_1585_pp0_iter2_reg;
reg   [0:0] exitcond_flatten_reg_1585_pp0_iter3_reg;
wire   [63:0] indvar_flatten_next_fu_976_p2;
reg    ap_enable_reg_pp0_iter0;
wire   [30:0] tmp_27_i_mid2_v_fu_996_p3;
reg   [30:0] tmp_27_i_mid2_v_reg_1594;
wire  signed [10:0] tmp_33_fu_1004_p1;
reg  signed [10:0] tmp_33_reg_1599;
wire  signed [4:0] tmp_34_fu_1008_p1;
reg  signed [4:0] tmp_34_reg_1604;
wire   [4:0] tmp_35_fu_1012_p1;
reg   [4:0] tmp_35_reg_1609;
wire   [10:0] tmp_36_fu_1016_p1;
reg   [10:0] tmp_36_reg_1614;
wire   [30:0] ik_col_fu_1020_p2;
wire  signed [4:0] grp_fu_1340_p3;
reg  signed [4:0] tmp_29_t_i_reg_1624;
reg    ap_enable_reg_pp0_iter1;
wire  signed [31:0] tmp_28_fu_1030_p27;
reg  signed [31:0] tmp_28_reg_1634;
reg  signed [31:0] kernel_load_reg_1639;
wire   [31:0] tmp_32_i_fu_1085_p2;
reg   [31:0] tmp_32_i_reg_1644;
wire   [31:0] sum_fu_1089_p2;
reg    ap_enable_reg_pp0_iter4;
wire    ap_block_pp0_stage0_subdone;
reg    ap_condition_pp0_exit_iter0_state5;
reg    ap_enable_reg_pp0_iter2;
reg    ap_enable_reg_pp0_iter3;
wire    grp_updateBuffer_fu_307_ap_start;
wire    grp_updateBuffer_fu_307_ap_done;
wire    grp_updateBuffer_fu_307_ap_idle;
wire    grp_updateBuffer_fu_307_ap_ready;
wire   [13:0] grp_updateBuffer_fu_307_in_data_address0;
wire    grp_updateBuffer_fu_307_in_data_ce0;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_0;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_1;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_2;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_3;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_4;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_5;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_6;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_7;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_8;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_9;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_10;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_11;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_12;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_13;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_14;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_15;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_16;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_17;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_18;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_19;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_20;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_21;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_22;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_23;
wire   [31:0] grp_updateBuffer_fu_307_ap_return_24;
wire    grp_initializeBuffer_fu_345_ap_start;
wire    grp_initializeBuffer_fu_345_ap_done;
wire    grp_initializeBuffer_fu_345_ap_idle;
wire    grp_initializeBuffer_fu_345_ap_ready;
wire   [13:0] grp_initializeBuffer_fu_345_in_data_address0;
wire    grp_initializeBuffer_fu_345_in_data_ce0;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_0;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_1;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_2;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_3;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_4;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_5;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_6;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_7;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_8;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_9;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_10;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_11;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_12;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_13;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_14;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_15;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_16;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_17;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_18;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_19;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_20;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_21;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_22;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_23;
wire   [31:0] grp_initializeBuffer_fu_345_ap_return_24;
reg   [30:0] index_row_out_reg_226;
reg   [37:0] phi_mul_reg_238;
reg   [30:0] index_col_out_reg_249;
wire    ap_CS_fsm_state3;
wire    ap_CS_fsm_state11;
reg   [30:0] ap_phi_mux_ik_row_i_phi_fu_276_p4;
wire    ap_block_pp0_stage0;
reg    grp_updateBuffer_fu_307_ap_start_reg;
reg    grp_initializeBuffer_fu_345_ap_start_reg;
wire  signed [63:0] tmp_31_cast_fu_1026_p1;
wire   [63:0] tmp_29_cast_fu_1103_p1;
reg   [31:0] buffer_0_fu_76;
reg   [31:0] buffer_1_fu_80;
reg   [31:0] buffer_2_fu_84;
reg   [31:0] buffer_3_fu_88;
reg   [31:0] buffer_4_fu_92;
reg   [31:0] buffer_5_fu_96;
reg   [31:0] buffer_6_fu_100;
reg   [31:0] buffer_7_fu_104;
reg   [31:0] buffer_8_fu_108;
reg   [31:0] buffer_9_fu_112;
reg   [31:0] buffer_10_fu_116;
reg   [31:0] buffer_11_fu_120;
reg   [31:0] buffer_12_fu_124;
reg   [31:0] buffer_13_fu_128;
reg   [31:0] buffer_14_fu_132;
reg   [31:0] buffer_15_fu_136;
reg   [31:0] buffer_16_fu_140;
reg   [31:0] buffer_17_fu_144;
reg   [31:0] buffer_18_fu_148;
reg   [31:0] buffer_19_fu_152;
reg   [31:0] buffer_20_fu_156;
reg   [31:0] buffer_21_fu_160;
reg   [31:0] buffer_22_fu_164;
reg   [31:0] buffer_23_fu_168;
reg   [31:0] buffer_24_fu_172;
wire   [31:0] tmp_fu_655_p2;
wire   [31:0] tmp_19_fu_667_p2;
wire   [31:0] bound_fu_691_p0;
wire   [31:0] bound_fu_691_p1;
wire   [31:0] index_row_out_cast_fu_707_p1;
wire   [31:0] index_col_out_cast_fu_947_p1;
wire   [31:0] ik_col_i_cast_fu_962_p1;
wire   [0:0] tmp_28_i_fu_966_p2;
wire   [30:0] ik_row_fu_982_p2;
wire   [30:0] ik_col_i_mid2_fu_988_p3;
wire  signed [10:0] grp_fu_1333_p3;
wire   [14:0] tmp_32_fu_1094_p1;
wire   [14:0] tmp_25_fu_1098_p2;
wire   [7:0] grp_fu_1333_p0;
reg   [6:0] ap_NS_fsm;
reg    ap_idle_pp0;
wire    ap_enable_pp0;
wire   [63:0] bound_fu_691_p00;
wire   [63:0] bound_fu_691_p10;

// power-on initialization
initial begin
#0 ap_CS_fsm = 7'd1;
#0 ap_enable_reg_pp0_iter0 = 1'b0;
#0 ap_enable_reg_pp0_iter1 = 1'b0;
#0 ap_enable_reg_pp0_iter4 = 1'b0;
#0 ap_enable_reg_pp0_iter2 = 1'b0;
#0 ap_enable_reg_pp0_iter3 = 1'b0;
#0 grp_updateBuffer_fu_307_ap_start_reg = 1'b0;
#0 grp_initializeBuffer_fu_345_ap_start_reg = 1'b0;
end

updateBuffer grp_updateBuffer_fu_307(
    .ap_clk(ap_clk),
    .ap_rst(ap_rst),
    .ap_start(grp_updateBuffer_fu_307_ap_start),
    .ap_done(grp_updateBuffer_fu_307_ap_done),
    .ap_idle(grp_updateBuffer_fu_307_ap_idle),
    .ap_ready(grp_updateBuffer_fu_307_ap_ready),
    .buffer_0_read(reg_505),
    .buffer_1_read(reg_511),
    .buffer_2_read(reg_517),
    .buffer_3_read(reg_523),
    .buffer_4_read(reg_529),
    .buffer_5_read(reg_535),
    .buffer_6_read(reg_541),
    .buffer_7_read(reg_547),
    .buffer_8_read(reg_553),
    .buffer_9_read(reg_559),
    .buffer_10_read(reg_565),
    .buffer_11_read(reg_571),
    .buffer_12_read(reg_577),
    .buffer_13_read(reg_583),
    .buffer_14_read(reg_589),
    .buffer_15_read(reg_595),
    .buffer_16_read(reg_601),
    .buffer_17_read(reg_607),
    .buffer_18_read(reg_613),
    .buffer_19_read(reg_619),
    .buffer_20_read(reg_625),
    .buffer_21_read(reg_631),
    .buffer_22_read(reg_637),
    .buffer_23_read(reg_643),
    .buffer_24_read(reg_649),
    .in_data_address0(grp_updateBuffer_fu_307_in_data_address0),
    .in_data_ce0(grp_updateBuffer_fu_307_in_data_ce0),
    .in_data_q0(in_data_q0),
    .index_row_out(index_row_out_reg_226),
    .index_col_out(index_col_out_reg_249),
    .kernel_size_row(kernel_size_row),
    .kernel_size_col(kernel_size_col),
    .col_in(col_in),
    .ap_return_0(grp_updateBuffer_fu_307_ap_return_0),
    .ap_return_1(grp_updateBuffer_fu_307_ap_return_1),
    .ap_return_2(grp_updateBuffer_fu_307_ap_return_2),
    .ap_return_3(grp_updateBuffer_fu_307_ap_return_3),
    .ap_return_4(grp_updateBuffer_fu_307_ap_return_4),
    .ap_return_5(grp_updateBuffer_fu_307_ap_return_5),
    .ap_return_6(grp_updateBuffer_fu_307_ap_return_6),
    .ap_return_7(grp_updateBuffer_fu_307_ap_return_7),
    .ap_return_8(grp_updateBuffer_fu_307_ap_return_8),
    .ap_return_9(grp_updateBuffer_fu_307_ap_return_9),
    .ap_return_10(grp_updateBuffer_fu_307_ap_return_10),
    .ap_return_11(grp_updateBuffer_fu_307_ap_return_11),
    .ap_return_12(grp_updateBuffer_fu_307_ap_return_12),
    .ap_return_13(grp_updateBuffer_fu_307_ap_return_13),
    .ap_return_14(grp_updateBuffer_fu_307_ap_return_14),
    .ap_return_15(grp_updateBuffer_fu_307_ap_return_15),
    .ap_return_16(grp_updateBuffer_fu_307_ap_return_16),
    .ap_return_17(grp_updateBuffer_fu_307_ap_return_17),
    .ap_return_18(grp_updateBuffer_fu_307_ap_return_18),
    .ap_return_19(grp_updateBuffer_fu_307_ap_return_19),
    .ap_return_20(grp_updateBuffer_fu_307_ap_return_20),
    .ap_return_21(grp_updateBuffer_fu_307_ap_return_21),
    .ap_return_22(grp_updateBuffer_fu_307_ap_return_22),
    .ap_return_23(grp_updateBuffer_fu_307_ap_return_23),
    .ap_return_24(grp_updateBuffer_fu_307_ap_return_24)
);

initializeBuffer grp_initializeBuffer_fu_345(
    .ap_clk(ap_clk),
    .ap_rst(ap_rst),
    .ap_start(grp_initializeBuffer_fu_345_ap_start),
    .ap_done(grp_initializeBuffer_fu_345_ap_done),
    .ap_idle(grp_initializeBuffer_fu_345_ap_idle),
    .ap_ready(grp_initializeBuffer_fu_345_ap_ready),
    .buffer_0_read(reg_505),
    .buffer_1_read(reg_511),
    .buffer_2_read(reg_517),
    .buffer_3_read(reg_523),
    .buffer_4_read(reg_529),
    .buffer_5_read(reg_535),
    .buffer_6_read(reg_541),
    .buffer_7_read(reg_547),
    .buffer_8_read(reg_553),
    .buffer_9_read(reg_559),
    .buffer_10_read(reg_565),
    .buffer_11_read(reg_571),
    .buffer_12_read(reg_577),
    .buffer_13_read(reg_583),
    .buffer_14_read(reg_589),
    .buffer_15_read(reg_595),
    .buffer_16_read(reg_601),
    .buffer_17_read(reg_607),
    .buffer_18_read(reg_613),
    .buffer_19_read(reg_619),
    .buffer_20_read(reg_625),
    .buffer_21_read(reg_631),
    .buffer_22_read(reg_637),
    .buffer_23_read(reg_643),
    .buffer_24_read(reg_649),
    .in_data_address0(grp_initializeBuffer_fu_345_in_data_address0),
    .in_data_ce0(grp_initializeBuffer_fu_345_in_data_ce0),
    .in_data_q0(in_data_q0),
    .index_row_out(index_row_out_reg_226),
    .kernel_size_row(kernel_size_row),
    .kernel_size_col(kernel_size_col),
    .ap_return_0(grp_initializeBuffer_fu_345_ap_return_0),
    .ap_return_1(grp_initializeBuffer_fu_345_ap_return_1),
    .ap_return_2(grp_initializeBuffer_fu_345_ap_return_2),
    .ap_return_3(grp_initializeBuffer_fu_345_ap_return_3),
    .ap_return_4(grp_initializeBuffer_fu_345_ap_return_4),
    .ap_return_5(grp_initializeBuffer_fu_345_ap_return_5),
    .ap_return_6(grp_initializeBuffer_fu_345_ap_return_6),
    .ap_return_7(grp_initializeBuffer_fu_345_ap_return_7),
    .ap_return_8(grp_initializeBuffer_fu_345_ap_return_8),
    .ap_return_9(grp_initializeBuffer_fu_345_ap_return_9),
    .ap_return_10(grp_initializeBuffer_fu_345_ap_return_10),
    .ap_return_11(grp_initializeBuffer_fu_345_ap_return_11),
    .ap_return_12(grp_initializeBuffer_fu_345_ap_return_12),
    .ap_return_13(grp_initializeBuffer_fu_345_ap_return_13),
    .ap_return_14(grp_initializeBuffer_fu_345_ap_return_14),
    .ap_return_15(grp_initializeBuffer_fu_345_ap_return_15),
    .ap_return_16(grp_initializeBuffer_fu_345_ap_return_16),
    .ap_return_17(grp_initializeBuffer_fu_345_ap_return_17),
    .ap_return_18(grp_initializeBuffer_fu_345_ap_return_18),
    .ap_return_19(grp_initializeBuffer_fu_345_ap_return_19),
    .ap_return_20(grp_initializeBuffer_fu_345_ap_return_20),
    .ap_return_21(grp_initializeBuffer_fu_345_ap_return_21),
    .ap_return_22(grp_initializeBuffer_fu_345_ap_return_22),
    .ap_return_23(grp_initializeBuffer_fu_345_ap_return_23),
    .ap_return_24(grp_initializeBuffer_fu_345_ap_return_24)
);

conv2D_mux_255_32cud_x #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 32 ),
    .din1_WIDTH( 32 ),
    .din2_WIDTH( 32 ),
    .din3_WIDTH( 32 ),
    .din4_WIDTH( 32 ),
    .din5_WIDTH( 32 ),
    .din6_WIDTH( 32 ),
    .din7_WIDTH( 32 ),
    .din8_WIDTH( 32 ),
    .din9_WIDTH( 32 ),
    .din10_WIDTH( 32 ),
    .din11_WIDTH( 32 ),
    .din12_WIDTH( 32 ),
    .din13_WIDTH( 32 ),
    .din14_WIDTH( 32 ),
    .din15_WIDTH( 32 ),
    .din16_WIDTH( 32 ),
    .din17_WIDTH( 32 ),
    .din18_WIDTH( 32 ),
    .din19_WIDTH( 32 ),
    .din20_WIDTH( 32 ),
    .din21_WIDTH( 32 ),
    .din22_WIDTH( 32 ),
    .din23_WIDTH( 32 ),
    .din24_WIDTH( 32 ),
    .din25_WIDTH( 5 ),
    .dout_WIDTH( 32 ))
conv2D_mux_255_32cud_x_U118(
    .din0(buffer_0_fu_76),
    .din1(buffer_1_fu_80),
    .din2(buffer_2_fu_84),
    .din3(buffer_3_fu_88),
    .din4(buffer_4_fu_92),
    .din5(buffer_5_fu_96),
    .din6(buffer_6_fu_100),
    .din7(buffer_7_fu_104),
    .din8(buffer_8_fu_108),
    .din9(buffer_9_fu_112),
    .din10(buffer_10_fu_116),
    .din11(buffer_11_fu_120),
    .din12(buffer_12_fu_124),
    .din13(buffer_13_fu_128),
    .din14(buffer_14_fu_132),
    .din15(buffer_15_fu_136),
    .din16(buffer_16_fu_140),
    .din17(buffer_17_fu_144),
    .din18(buffer_18_fu_148),
    .din19(buffer_19_fu_152),
    .din20(buffer_20_fu_156),
    .din21(buffer_21_fu_160),
    .din22(buffer_22_fu_164),
    .din23(buffer_23_fu_168),
    .din24(buffer_24_fu_172),
    .din25(tmp_29_t_i_reg_1624),
    .dout(tmp_28_fu_1030_p27)
);

conv2D_mac_muladdfYi #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 8 ),
    .din1_WIDTH( 11 ),
    .din2_WIDTH( 11 ),
    .dout_WIDTH( 11 ))
conv2D_mac_muladdfYi_U119(
    .din0(grp_fu_1333_p0),
    .din1(tmp_33_reg_1599),
    .din2(tmp_36_reg_1614),
    .dout(grp_fu_1333_p3)
);

conv2D_mac_muladdg8j #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 5 ),
    .din1_WIDTH( 5 ),
    .din2_WIDTH( 5 ),
    .dout_WIDTH( 5 ))
conv2D_mac_muladdg8j_U120(
    .din0(tmp_34_reg_1604),
    .din1(tmp_26_reg_1548),
    .din2(tmp_35_reg_1609),
    .dout(grp_fu_1340_p3)
);

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_fsm_state1;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_enable_reg_pp0_iter0 <= 1'b0;
    end else begin
        if (((1'b0 == ap_block_pp0_stage0_subdone) & (1'b1 == ap_condition_pp0_exit_iter0_state5) & (1'b1 == ap_CS_fsm_pp0_stage0))) begin
            ap_enable_reg_pp0_iter0 <= 1'b0;
        end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            ap_enable_reg_pp0_iter0 <= 1'b1;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_enable_reg_pp0_iter1 <= 1'b0;
    end else begin
        if ((1'b0 == ap_block_pp0_stage0_subdone)) begin
            if ((1'b1 == ap_condition_pp0_exit_iter0_state5)) begin
                ap_enable_reg_pp0_iter1 <= (1'b1 ^ ap_condition_pp0_exit_iter0_state5);
            end else if ((1'b1 == 1'b1)) begin
                ap_enable_reg_pp0_iter1 <= ap_enable_reg_pp0_iter0;
            end
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_enable_reg_pp0_iter2 <= 1'b0;
    end else begin
        if ((1'b0 == ap_block_pp0_stage0_subdone)) begin
            ap_enable_reg_pp0_iter2 <= ap_enable_reg_pp0_iter1;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_enable_reg_pp0_iter3 <= 1'b0;
    end else begin
        if ((1'b0 == ap_block_pp0_stage0_subdone)) begin
            ap_enable_reg_pp0_iter3 <= ap_enable_reg_pp0_iter2;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        ap_enable_reg_pp0_iter4 <= 1'b0;
    end else begin
        if ((1'b0 == ap_block_pp0_stage0_subdone)) begin
            ap_enable_reg_pp0_iter4 <= ap_enable_reg_pp0_iter3;
        end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
            ap_enable_reg_pp0_iter4 <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        grp_initializeBuffer_fu_345_ap_start_reg <= 1'b0;
    end else begin
        if (((tmp_21_fu_711_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2))) begin
            grp_initializeBuffer_fu_345_ap_start_reg <= 1'b1;
        end else if ((grp_initializeBuffer_fu_345_ap_ready == 1'b1)) begin
            grp_initializeBuffer_fu_345_ap_start_reg <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if (ap_rst == 1'b1) begin
        grp_updateBuffer_fu_307_ap_start_reg <= 1'b0;
    end else begin
        if ((1'b1 == ap_CS_fsm_state10)) begin
            grp_updateBuffer_fu_307_ap_start_reg <= 1'b1;
        end else if ((grp_updateBuffer_fu_307_ap_ready == 1'b1)) begin
            grp_updateBuffer_fu_307_ap_start_reg <= 1'b0;
        end
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_0_fu_76 <= grp_updateBuffer_fu_307_ap_return_0;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_0_fu_76 <= grp_initializeBuffer_fu_345_ap_return_0;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_10_fu_116 <= grp_updateBuffer_fu_307_ap_return_10;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_10_fu_116 <= grp_initializeBuffer_fu_345_ap_return_10;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_11_fu_120 <= grp_updateBuffer_fu_307_ap_return_11;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_11_fu_120 <= grp_initializeBuffer_fu_345_ap_return_11;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_12_fu_124 <= grp_updateBuffer_fu_307_ap_return_12;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_12_fu_124 <= grp_initializeBuffer_fu_345_ap_return_12;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_13_fu_128 <= grp_updateBuffer_fu_307_ap_return_13;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_13_fu_128 <= grp_initializeBuffer_fu_345_ap_return_13;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_14_fu_132 <= grp_updateBuffer_fu_307_ap_return_14;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_14_fu_132 <= grp_initializeBuffer_fu_345_ap_return_14;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_15_fu_136 <= grp_updateBuffer_fu_307_ap_return_15;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_15_fu_136 <= grp_initializeBuffer_fu_345_ap_return_15;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_16_fu_140 <= grp_updateBuffer_fu_307_ap_return_16;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_16_fu_140 <= grp_initializeBuffer_fu_345_ap_return_16;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_17_fu_144 <= grp_updateBuffer_fu_307_ap_return_17;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_17_fu_144 <= grp_initializeBuffer_fu_345_ap_return_17;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_18_fu_148 <= grp_updateBuffer_fu_307_ap_return_18;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_18_fu_148 <= grp_initializeBuffer_fu_345_ap_return_18;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_19_fu_152 <= grp_updateBuffer_fu_307_ap_return_19;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_19_fu_152 <= grp_initializeBuffer_fu_345_ap_return_19;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_1_fu_80 <= grp_updateBuffer_fu_307_ap_return_1;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_1_fu_80 <= grp_initializeBuffer_fu_345_ap_return_1;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_20_fu_156 <= grp_updateBuffer_fu_307_ap_return_20;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_20_fu_156 <= grp_initializeBuffer_fu_345_ap_return_20;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_21_fu_160 <= grp_updateBuffer_fu_307_ap_return_21;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_21_fu_160 <= grp_initializeBuffer_fu_345_ap_return_21;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_22_fu_164 <= grp_updateBuffer_fu_307_ap_return_22;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_22_fu_164 <= grp_initializeBuffer_fu_345_ap_return_22;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_23_fu_168 <= grp_updateBuffer_fu_307_ap_return_23;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_23_fu_168 <= grp_initializeBuffer_fu_345_ap_return_23;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_24_fu_172 <= grp_updateBuffer_fu_307_ap_return_24;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_24_fu_172 <= grp_initializeBuffer_fu_345_ap_return_24;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_2_fu_84 <= grp_updateBuffer_fu_307_ap_return_2;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_2_fu_84 <= grp_initializeBuffer_fu_345_ap_return_2;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_3_fu_88 <= grp_updateBuffer_fu_307_ap_return_3;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_3_fu_88 <= grp_initializeBuffer_fu_345_ap_return_3;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_4_fu_92 <= grp_updateBuffer_fu_307_ap_return_4;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_4_fu_92 <= grp_initializeBuffer_fu_345_ap_return_4;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_5_fu_96 <= grp_updateBuffer_fu_307_ap_return_5;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_5_fu_96 <= grp_initializeBuffer_fu_345_ap_return_5;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_6_fu_100 <= grp_updateBuffer_fu_307_ap_return_6;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_6_fu_100 <= grp_initializeBuffer_fu_345_ap_return_6;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_7_fu_104 <= grp_updateBuffer_fu_307_ap_return_7;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_7_fu_104 <= grp_initializeBuffer_fu_345_ap_return_7;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_8_fu_108 <= grp_updateBuffer_fu_307_ap_return_8;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_8_fu_108 <= grp_initializeBuffer_fu_345_ap_return_8;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        buffer_9_fu_112 <= grp_updateBuffer_fu_307_ap_return_9;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        buffer_9_fu_112 <= grp_initializeBuffer_fu_345_ap_return_9;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter0 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_fu_971_p2 == 1'd0))) begin
        ik_col_i_reg_296 <= ik_col_fu_1020_p2;
    end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
        ik_col_i_reg_296 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter1 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_reg_1585 == 1'd0))) begin
        ik_row_i_reg_272 <= tmp_27_i_mid2_v_reg_1594;
    end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
        ik_row_i_reg_272 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
        index_col_out_reg_249 <= index_col_out_1_reg_1580;
    end else if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
        index_col_out_reg_249 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_state4) & (tmp_23_fu_951_p2 == 1'd0))) begin
        index_row_out_reg_226 <= index_row_out_1_reg_1571;
    end else if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
        index_row_out_reg_226 <= 31'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter0 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_fu_971_p2 == 1'd0))) begin
        indvar_flatten_reg_261 <= indvar_flatten_next_fu_976_p2;
    end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
        indvar_flatten_reg_261 <= 64'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_state4) & (tmp_23_fu_951_p2 == 1'd0))) begin
        phi_mul_reg_238 <= next_mul_reg_1563;
    end else if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
        phi_mul_reg_238 <= 38'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter4 == 1'b1) & (exitcond_flatten_reg_1585_pp0_iter3_reg == 1'd0) & (1'b0 == ap_block_pp0_stage0_11001))) begin
        sum_1_i_reg_283 <= sum_fu_1089_p2;
    end else if (((tmp_23_fu_951_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state4))) begin
        sum_1_i_reg_283 <= 32'd0;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
        bound_reg_1553 <= bound_fu_691_p2;
        tmp_20_reg_1543 <= tmp_20_fu_673_p2;
        tmp_26_reg_1548 <= tmp_26_fu_679_p1;
        tmp_s_reg_1538 <= tmp_s_fu_661_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001))) begin
        exitcond_flatten_reg_1585 <= exitcond_flatten_fu_971_p2;
        exitcond_flatten_reg_1585_pp0_iter1_reg <= exitcond_flatten_reg_1585;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b0 == ap_block_pp0_stage0_11001)) begin
        exitcond_flatten_reg_1585_pp0_iter2_reg <= exitcond_flatten_reg_1585_pp0_iter1_reg;
        exitcond_flatten_reg_1585_pp0_iter3_reg <= exitcond_flatten_reg_1585_pp0_iter2_reg;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state4)) begin
        index_col_out_1_reg_1580 <= index_col_out_1_fu_956_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((1'b1 == ap_CS_fsm_state2)) begin
        index_row_out_1_reg_1571 <= index_row_out_1_fu_716_p2;
        next_mul_reg_1563 <= next_mul_fu_701_p2;
        tmp_27_reg_1558 <= tmp_27_fu_697_p1;
    end
end

always @ (posedge ap_clk) begin
    if (((exitcond_flatten_reg_1585_pp0_iter1_reg == 1'd0) & (1'b0 == ap_block_pp0_stage0_11001))) begin
        kernel_load_reg_1639 <= kernel_q0;
        tmp_28_reg_1634 <= tmp_28_fu_1030_p27;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_state10) | ((tmp_21_fu_711_p2 == 1'd1) & (1'b1 == ap_CS_fsm_state2)))) begin
        reg_505 <= buffer_0_fu_76;
        reg_511 <= buffer_1_fu_80;
        reg_517 <= buffer_2_fu_84;
        reg_523 <= buffer_3_fu_88;
        reg_529 <= buffer_4_fu_92;
        reg_535 <= buffer_5_fu_96;
        reg_541 <= buffer_6_fu_100;
        reg_547 <= buffer_7_fu_104;
        reg_553 <= buffer_8_fu_108;
        reg_559 <= buffer_9_fu_112;
        reg_565 <= buffer_10_fu_116;
        reg_571 <= buffer_11_fu_120;
        reg_577 <= buffer_12_fu_124;
        reg_583 <= buffer_13_fu_128;
        reg_589 <= buffer_14_fu_132;
        reg_595 <= buffer_15_fu_136;
        reg_601 <= buffer_16_fu_140;
        reg_607 <= buffer_17_fu_144;
        reg_613 <= buffer_18_fu_148;
        reg_619 <= buffer_19_fu_152;
        reg_625 <= buffer_20_fu_156;
        reg_631 <= buffer_21_fu_160;
        reg_637 <= buffer_22_fu_164;
        reg_643 <= buffer_23_fu_168;
        reg_649 <= buffer_24_fu_172;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter0 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_fu_971_p2 == 1'd0))) begin
        tmp_27_i_mid2_v_reg_1594 <= tmp_27_i_mid2_v_fu_996_p3;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_enable_reg_pp0_iter1 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_reg_1585 == 1'd0))) begin
        tmp_29_t_i_reg_1624 <= grp_fu_1340_p3;
    end
end

always @ (posedge ap_clk) begin
    if (((exitcond_flatten_reg_1585_pp0_iter2_reg == 1'd0) & (1'b0 == ap_block_pp0_stage0_11001))) begin
        tmp_32_i_reg_1644 <= tmp_32_i_fu_1085_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001) & (exitcond_flatten_fu_971_p2 == 1'd0))) begin
        tmp_33_reg_1599 <= tmp_33_fu_1004_p1;
        tmp_34_reg_1604 <= tmp_34_fu_1008_p1;
        tmp_35_reg_1609 <= tmp_35_fu_1012_p1;
        tmp_36_reg_1614 <= tmp_36_fu_1016_p1;
    end
end

always @ (*) begin
    if ((exitcond_flatten_fu_971_p2 == 1'd1)) begin
        ap_condition_pp0_exit_iter0_state5 = 1'b1;
    end else begin
        ap_condition_pp0_exit_iter0_state5 = 1'b0;
    end
end

always @ (*) begin
    if (((tmp_21_fu_711_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
        ap_done = 1'b1;
    end else begin
        ap_done = 1'b0;
    end
end

always @ (*) begin
    if (((ap_start == 1'b0) & (1'b1 == ap_CS_fsm_state1))) begin
        ap_idle = 1'b1;
    end else begin
        ap_idle = 1'b0;
    end
end

always @ (*) begin
    if (((ap_enable_reg_pp0_iter3 == 1'b0) & (ap_enable_reg_pp0_iter2 == 1'b0) & (ap_enable_reg_pp0_iter4 == 1'b0) & (ap_enable_reg_pp0_iter1 == 1'b0) & (ap_enable_reg_pp0_iter0 == 1'b0))) begin
        ap_idle_pp0 = 1'b1;
    end else begin
        ap_idle_pp0 = 1'b0;
    end
end

always @ (*) begin
    if (((1'b0 == ap_block_pp0_stage0) & (ap_enable_reg_pp0_iter1 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (exitcond_flatten_reg_1585 == 1'd0))) begin
        ap_phi_mux_ik_row_i_phi_fu_276_p4 = tmp_27_i_mid2_v_reg_1594;
    end else begin
        ap_phi_mux_ik_row_i_phi_fu_276_p4 = ik_row_i_reg_272;
    end
end

always @ (*) begin
    if (((tmp_21_fu_711_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
        ap_ready = 1'b1;
    end else begin
        ap_ready = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state3)) begin
        in_data_address0 = grp_initializeBuffer_fu_345_in_data_address0;
    end else if ((1'b1 == ap_CS_fsm_state11)) begin
        in_data_address0 = grp_updateBuffer_fu_307_in_data_address0;
    end else begin
        in_data_address0 = 'bx;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state3)) begin
        in_data_ce0 = grp_initializeBuffer_fu_345_in_data_ce0;
    end else if ((1'b1 == ap_CS_fsm_state11)) begin
        in_data_ce0 = grp_updateBuffer_fu_307_in_data_ce0;
    end else begin
        in_data_ce0 = 1'b0;
    end
end

always @ (*) begin
    if (((ap_enable_reg_pp0_iter1 == 1'b1) & (1'b1 == ap_CS_fsm_pp0_stage0) & (1'b0 == ap_block_pp0_stage0_11001))) begin
        kernel_ce0 = 1'b1;
    end else begin
        kernel_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state10)) begin
        out_data_ce0 = 1'b1;
    end else begin
        out_data_ce0 = 1'b0;
    end
end

always @ (*) begin
    if ((1'b1 == ap_CS_fsm_state10)) begin
        out_data_we0 = 1'b1;
    end else begin
        out_data_we0 = 1'b0;
    end
end

always @ (*) begin
    case (ap_CS_fsm)
        ap_ST_fsm_state1 : begin
            if (((1'b1 == ap_CS_fsm_state1) & (ap_start == 1'b1))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end
        end
        ap_ST_fsm_state2 : begin
            if (((tmp_21_fu_711_p2 == 1'd0) & (1'b1 == ap_CS_fsm_state2))) begin
                ap_NS_fsm = ap_ST_fsm_state1;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state3;
            end
        end
        ap_ST_fsm_state3 : begin
            if (((grp_initializeBuffer_fu_345_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state3))) begin
                ap_NS_fsm = ap_ST_fsm_state4;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state3;
            end
        end
        ap_ST_fsm_state4 : begin
            if (((1'b1 == ap_CS_fsm_state4) & (tmp_23_fu_951_p2 == 1'd0))) begin
                ap_NS_fsm = ap_ST_fsm_state2;
            end else begin
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            end
        end
        ap_ST_fsm_pp0_stage0 : begin
            if ((~((exitcond_flatten_fu_971_p2 == 1'd1) & (1'b0 == ap_block_pp0_stage0_subdone) & (ap_enable_reg_pp0_iter0 == 1'b1) & (ap_enable_reg_pp0_iter1 == 1'b0)) & ~((ap_enable_reg_pp0_iter3 == 1'b0) & (1'b0 == ap_block_pp0_stage0_subdone) & (ap_enable_reg_pp0_iter4 == 1'b1)))) begin
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            end else if ((((ap_enable_reg_pp0_iter3 == 1'b0) & (1'b0 == ap_block_pp0_stage0_subdone) & (ap_enable_reg_pp0_iter4 == 1'b1)) | ((exitcond_flatten_fu_971_p2 == 1'd1) & (1'b0 == ap_block_pp0_stage0_subdone) & (ap_enable_reg_pp0_iter0 == 1'b1) & (ap_enable_reg_pp0_iter1 == 1'b0)))) begin
                ap_NS_fsm = ap_ST_fsm_state10;
            end else begin
                ap_NS_fsm = ap_ST_fsm_pp0_stage0;
            end
        end
        ap_ST_fsm_state10 : begin
            ap_NS_fsm = ap_ST_fsm_state11;
        end
        ap_ST_fsm_state11 : begin
            if (((grp_updateBuffer_fu_307_ap_done == 1'b1) & (1'b1 == ap_CS_fsm_state11))) begin
                ap_NS_fsm = ap_ST_fsm_state4;
            end else begin
                ap_NS_fsm = ap_ST_fsm_state11;
            end
        end
        default : begin
            ap_NS_fsm = 'bx;
        end
    endcase
end

assign ap_CS_fsm_pp0_stage0 = ap_CS_fsm[32'd4];

assign ap_CS_fsm_state1 = ap_CS_fsm[32'd0];

assign ap_CS_fsm_state10 = ap_CS_fsm[32'd5];

assign ap_CS_fsm_state11 = ap_CS_fsm[32'd6];

assign ap_CS_fsm_state2 = ap_CS_fsm[32'd1];

assign ap_CS_fsm_state3 = ap_CS_fsm[32'd2];

assign ap_CS_fsm_state4 = ap_CS_fsm[32'd3];

assign ap_block_pp0_stage0 = ~(1'b1 == 1'b1);

assign ap_block_pp0_stage0_11001 = ~(1'b1 == 1'b1);

assign ap_block_pp0_stage0_subdone = ~(1'b1 == 1'b1);

assign ap_block_state5_pp0_stage0_iter0 = ~(1'b1 == 1'b1);

assign ap_block_state6_pp0_stage0_iter1 = ~(1'b1 == 1'b1);

assign ap_block_state7_pp0_stage0_iter2 = ~(1'b1 == 1'b1);

assign ap_block_state8_pp0_stage0_iter3 = ~(1'b1 == 1'b1);

assign ap_block_state9_pp0_stage0_iter4 = ~(1'b1 == 1'b1);

assign ap_enable_pp0 = (ap_idle_pp0 ^ 1'b1);

assign bound_fu_691_p0 = bound_fu_691_p00;

assign bound_fu_691_p00 = kernel_size_col;

assign bound_fu_691_p1 = bound_fu_691_p10;

assign bound_fu_691_p10 = kernel_size_row;

assign bound_fu_691_p2 = (bound_fu_691_p0 * bound_fu_691_p1);

assign exitcond_flatten_fu_971_p2 = ((indvar_flatten_reg_261 == bound_reg_1553) ? 1'b1 : 1'b0);

assign grp_fu_1333_p0 = 11'd100;

assign grp_initializeBuffer_fu_345_ap_start = grp_initializeBuffer_fu_345_ap_start_reg;

assign grp_updateBuffer_fu_307_ap_start = grp_updateBuffer_fu_307_ap_start_reg;

assign ik_col_fu_1020_p2 = (31'd1 + ik_col_i_mid2_fu_988_p3);

assign ik_col_i_cast_fu_962_p1 = ik_col_i_reg_296;

assign ik_col_i_mid2_fu_988_p3 = ((tmp_28_i_fu_966_p2[0:0] === 1'b1) ? ik_col_i_reg_296 : 31'd0);

assign ik_row_fu_982_p2 = (31'd1 + ap_phi_mux_ik_row_i_phi_fu_276_p4);

assign index_col_out_1_fu_956_p2 = (index_col_out_reg_249 + 31'd1);

assign index_col_out_cast_fu_947_p1 = index_col_out_reg_249;

assign index_row_out_1_fu_716_p2 = (31'd1 + index_row_out_reg_226);

assign index_row_out_cast_fu_707_p1 = index_row_out_reg_226;

assign indvar_flatten_next_fu_976_p2 = (indvar_flatten_reg_261 + 64'd1);

assign kernel_address0 = tmp_31_cast_fu_1026_p1;

assign next_mul_fu_701_p2 = (38'd100 + phi_mul_reg_238);

assign out_data_address0 = tmp_29_cast_fu_1103_p1;

assign out_data_d0 = sum_1_i_reg_283;

assign sum_fu_1089_p2 = (tmp_32_i_reg_1644 + sum_1_i_reg_283);

assign tmp_19_fu_667_p2 = (32'd1 + col_in);

assign tmp_20_fu_673_p2 = (tmp_19_fu_667_p2 - kernel_size_col);

assign tmp_21_fu_711_p2 = (($signed(index_row_out_cast_fu_707_p1) < $signed(tmp_s_reg_1538)) ? 1'b1 : 1'b0);

assign tmp_23_fu_951_p2 = (($signed(index_col_out_cast_fu_947_p1) < $signed(tmp_20_reg_1543)) ? 1'b1 : 1'b0);

assign tmp_25_fu_1098_p2 = (tmp_27_reg_1558 + tmp_32_fu_1094_p1);

assign tmp_26_fu_679_p1 = kernel_size_col[4:0];

assign tmp_27_fu_697_p1 = phi_mul_reg_238[14:0];

assign tmp_27_i_mid2_v_fu_996_p3 = ((tmp_28_i_fu_966_p2[0:0] === 1'b1) ? ap_phi_mux_ik_row_i_phi_fu_276_p4 : ik_row_fu_982_p2);

assign tmp_28_i_fu_966_p2 = (($signed(ik_col_i_cast_fu_962_p1) < $signed(kernel_size_col)) ? 1'b1 : 1'b0);

assign tmp_29_cast_fu_1103_p1 = tmp_25_fu_1098_p2;

assign tmp_31_cast_fu_1026_p1 = grp_fu_1333_p3;

assign tmp_32_fu_1094_p1 = index_col_out_reg_249[14:0];

assign tmp_32_i_fu_1085_p2 = ($signed(kernel_load_reg_1639) * $signed(tmp_28_reg_1634));

assign tmp_33_fu_1004_p1 = tmp_27_i_mid2_v_fu_996_p3[10:0];

assign tmp_34_fu_1008_p1 = tmp_27_i_mid2_v_fu_996_p3[4:0];

assign tmp_35_fu_1012_p1 = ik_col_i_mid2_fu_988_p3[4:0];

assign tmp_36_fu_1016_p1 = ik_col_i_mid2_fu_988_p3[10:0];

assign tmp_fu_655_p2 = (32'd1 + row_in);

assign tmp_s_fu_661_p2 = (tmp_fu_655_p2 - kernel_size_row);

endmodule //conv2D
